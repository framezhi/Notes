<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://notes.yuyzzz.top</id>
    <title>Yuyzzz&apos;notes</title>
    <updated>2021-11-10T08:57:21.903Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://notes.yuyzzz.top"/>
    <link rel="self" href="https://notes.yuyzzz.top/atom.xml"/>
    <subtitle>遊生夢死</subtitle>
    <logo>https://notes.yuyzzz.top/images/avatar.png</logo>
    <icon>https://notes.yuyzzz.top/favicon.ico</icon>
    <rights>All rights reserved 2021, Yuyzzz&apos;notes</rights>
    <entry>
        <title type="html"><![CDATA[三、数据链路层]]></title>
        <id>https://notes.yuyzzz.top/post/san-shu-ju-lian-lu-ceng/</id>
        <link href="https://notes.yuyzzz.top/post/san-shu-ju-lian-lu-ceng/">
        </link>
        <updated>2021-11-10T08:52:50.000Z</updated>
        <summary type="html"><![CDATA[<p>数据链路层为OSI模型中的第二层，位于物理层和网络层之间。本章主要说明如何实现数据链路层的功能：<strong>成帧，差错控制，流量控制，透明传输，链路控制</strong>等</p>
]]></summary>
        <content type="html"><![CDATA[<p>数据链路层为OSI模型中的第二层，位于物理层和网络层之间。本章主要说明如何实现数据链路层的功能：<strong>成帧，差错控制，流量控制，透明传输，链路控制</strong>等</p>
<!-- more -->
<p>数据链路层的功能：在不可靠的物理链路上实现可靠的数据传输</p>
<ul>
<li>数据成帧：传输单位：帧，帧同步</li>
<li>差错控制：纠错；检错</li>
<li>流量控制：收、发方速率适配</li>
<li>透明传输：无论上层什么数据，链路层都可同样传输</li>
<li>链路控制：收发方确认对方是否准备好；数据链路的建立、维持、释放</li>
<li>寻址：MAC地址</li>
</ul>
<h2 id="31-成帧">3.1 成帧</h2>
<ul>
<li>帧定界问题（将比特流分成帧）</li>
<li>透明传输（任意字符都可以传输）</li>
</ul>
<h3 id="311-字符计数法">3.1.1 字符计数法</h3>
<p>在帧头部使用一个字符来标识帧内字符数目，出错后难以纠错</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw4dyjr3vdj30wq0cidq8.jpg" alt="image.png" style="zoom:50%;" />
<h3 id="312-带字符填充的首尾定界法">3.1.2 带字符填充的首尾定界法</h3>
<p>填充ASCII字符：</p>
<ul>
<li>ASCII字符：帧头DLE STX，帧尾DLE ETX
<ul>
<li>DLE (Data Link Escape);</li>
<li>STX (Start of Text);</li>
<li>ETX (End of Text)</li>
</ul>
</li>
<li>如果字符中出现DLE，就添一个DLE，称为字符填充。</li>
<li>缺点：完全依赖8位字符，特别是ASCII字符。</li>
</ul>
<h3 id="313-带位填充的首尾定界法">3.1.3 带位填充的首尾定界法</h3>
<ul>
<li>特殊位模式01111110作为定界符</li>
<li>规定：
<ul>
<li>数据中若有连续5个“1”，发方就添“0”。</li>
<li>收方遇到01111110知帧始或帧尾，遇到连续5个“1”，则去掉后面的一个“0”。</li>
</ul>
</li>
</ul>
<h3 id="314-物理层编码违例定界法">3.1.4 物理层编码违例定界法</h3>
<p>适用于在传输编码策略中采用冗余技术的网络。</p>
<p>例如：用两个物理位译码成数据的一位</p>
<ul>
<li>数据位1：高－低电平对</li>
<li>数据位0：低—高电平对</li>
<li>无效物理编码：高—高电平对、低—低电平对</li>
<li>使用无效物理编码作为定界符</li>
</ul>
<h2 id="32-差错校验和校正">3.2 差错校验和校正</h2>
<h3 id="321-产生差错的原因">3.2.1 产生差错的原因</h3>
<ul>
<li>噪声干扰</li>
<li>数据处理引起：
<ul>
<li>压缩、解压</li>
<li>调制、解调</li>
</ul>
</li>
<li>信道失真</li>
<li>其他原因</li>
</ul>
<p>差错类型：</p>
<ul>
<li>单个错误：分散在各个块中</li>
<li>突发错误：集中在某个块中</li>
</ul>
<h3 id="322-处理策略差错编码">3.2.2 处理策略(差错编码)</h3>
<ul>
<li>检错码: 加入冗余位，使接收方知道有差错发生，但不知是什么差错，然后让发送方重传。</li>
<li>纠错码: 在每一个要发送的数据块上附加足够的冗余信息, 使接收方能够推导出已发出字符应该是什么.纠错码要比检错码增加更多的冗余位。</li>
</ul>
<h3 id="323-海明码">3.2.3 海明码</h3>
<p>海明距离：两个码字中不同位的个数。 D(1101, 0111)=2</p>
<ul>
<li>检错：为检测出d比特错，需使用海明距离为d+1的编码</li>
<li>纠错：为纠正d比特错，需使用海明距离为2d+1的编码</li>
</ul>
<p>海明码编码：</p>
<ul>
<li>
<p>海明码只能检测出2位错，纠1位错</p>
</li>
<li>
<p>海明码默认进行偶校验(1的个数如果为奇数则在前面加个1，使1的个数变成偶数，否则加0)</p>
</li>
<li>
<p>设要传输的数据位是m位，冗余位是r位，则总传输位数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mi>m</mi><mo>+</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">n=m+r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span></span>, 应满足, $ 2^{r} \geq m+r+1$</p>
</li>
<li>
<p>编码格式：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>m</mi><mn>3</mn></msub><mo separator="true">,</mo><msub><mi>r</mi><mn>4</mn></msub><mo separator="true">,</mo><msub><mi>m</mi><mn>5</mn></msub><mo separator="true">,</mo><msub><mi>m</mi><mn>6</mn></msub><mo separator="true">,</mo><msub><mi>m</mi><mn>7</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">r_1, r_2, m_3, r_4, m_5, m_6, m_7...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span>；其中r为校验位，m为信息位，信息位第k位，和相应2的整次幂的校验位有关。</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw6k5qntfpj30qs0eaafv.jpg" alt="image.png" style="zoom:50%;" />
<p>校验位<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">r_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的计算：各相关信息位的异或</p>
<p>收方：</p>
<ul>
<li>设C=0，</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">r_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与相关信息位的异或为0，C+=0</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>r</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">r_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 与相关信息位的异或为1，C+=i</li>
<li>C为出错位置。</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw6kn5mn3ij31180nq487.jpg" alt="image.png" style="zoom:50%;" />
</li>
</ul>
<h3 id="324-crc编码法">3.2.4 CRC编码法</h3>
<p>CRC码即多项式编码，也称<strong>循环冗余码</strong>，k+1位编码可写成k阶多项式</p>
<p>CRC编码法：</p>
<ul>
<li>发收方规定一个生成多项式G(x)，设为r阶，规定最高阶和最低阶系数为1</li>
<li>将要发送的帧表示成M(x)多项式</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>x</mi><mi>r</mi></msup><mi>M</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">x^rM(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>对应于帧的二进制数后加r个0</li>
<li>用G(x)模2除<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>x</mi><mi>r</mi></msup><mi>M</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">x^rM(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>，得商和余数</li>
<li>采用“模2减”，用<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>x</mi><mi>r</mi></msup><mi>M</mi><mo>(</mo><mi>x</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">x^rM(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span>减去余数作为M(x)按G(x)的CRC校验码。</li>
</ul>
<p>关于模2运算</p>
<img src="https://img-blog.csdnimg.cn/20181112111518141.png"  />
<p>模2除法：采用模2减法，不借位</p>
<ol>
<li>除数与被除数最高几位（与除数位数相同）做异或，商1。（除数首位必须为1）</li>
<li>余数先去掉首位，若此时余数最高位为1，商1，并对以它为除数继续模2除。 若最高位为0，则商0，重复步骤2。</li>
<li>直到余数位数小于除数位数时，运算结束。</li>
</ol>
<h2 id="33-停止等待协议">3.3 停止等待协议</h2>
<h3 id="331-无限制单向数据传输协议">3.3.1 无限制单向数据传输协议</h3>
<p>条件：</p>
<ol>
<li>一个机器发数据，另一机器收数据；</li>
<li>网络层总是准备好分组传送</li>
<li>通道无错</li>
<li>DLL层处理速度无穷大。</li>
</ol>
<h3 id="332-单向停-等协议">3.3.2 单向停-等协议</h3>
<p>条件：</p>
<ol>
<li>一个机器发数据，另一机器收数据</li>
<li>网络层总是准备好分组传送</li>
<li>通道无错</li>
<li>DLL层处理速度有限</li>
</ol>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw6nrzb9kej314u0pun0z.jpg" alt="image.png" style="zoom:50%;" />
<h3 id="333-有错-单向数据传输协议">3.3.3 有错、单向数据传输协议</h3>
<p>条件：</p>
<ol>
<li>一个机器发数据，另一机器收数据</li>
<li>网络层总是准备好分组传送</li>
<li>通道有错</li>
<li>DLL层处理速度有限</li>
</ol>
<p>数据帧或确认帧丢失：超时重传</p>
<p>收到重复帧：可给帧独一无二的序号</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw6nwzk51pj31280r0q7z.jpg" alt="image.png" style="zoom:50%;" />
<img src="/Users/zhaoyuan/Library/Application Support/typora-user-images/image-20211107162433929.png" alt="image-20211107162433929" style="zoom:50%;" />
<ul>
<li>此图中没有表示出当收方又到一个错帧，向发方回应NAK帧</li>
<li>计数器为了解决死锁问题，重发时间选择重要，一般选为略 大于“从发完数据帧到收到回答帧所需的平均时间”。</li>
<li>超时重传时间设置太短，解决办法：对发送的每一帧加序号。</li>
<li>本协议只需一位做序号。</li>
</ul>
<p>确认帧必须表明这样两个含义：</p>
<ul>
<li>第n – 1号帧和这以前的各帧都收到了</li>
<li>我期望收到第n号帧。确认帧还可能包含这样的含义：当A和B都有数据帧向对方发送时，确认信息可以放 在数据帧中捎带地发送给对方。</li>
</ul>
<p>捎带确认：为了减少发送确认帧，可以暂时延迟确认，以便将确认帧钩在一个外发的数据帧，若无法捎带，当一个控制捎带确认的计时器超时后，单独发送确认帧</p>
<h2 id="34-窗口滑动协议">3.4 窗口滑动协议</h2>
<p>条件：</p>
<ol>
<li>双向传输数据</li>
<li>网络层总是准备好分组传送</li>
<li>通道有错</li>
<li>DLL层处理速度有限</li>
</ol>
<h3 id="341-窗口任何一端都有两个窗口">3.4.1 窗口(任何一端都有两个窗口)</h3>
<p><strong>发送窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)：存放着已发送但还未确认的帧序号</strong></p>
<ol>
<li>发帧(帧存入缓冲区)，上界加1</li>
<li>收到窗口下界ACK信息，下界加1</li>
<li>收到窗口外的ACK信息，丢掉</li>
</ol>
<p><strong>接收窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)：存放应接收的帧序号</strong></p>
<ol>
<li>
<p>收到接收窗口外的序号帧，丢掉</p>
</li>
<li>
<p>收到接收窗口下界序号帧，接收窗口向前移一步</p>
</li>
</ol>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw7rvullggj30wk0non2q.jpg" alt="image.png" style="zoom:67%;" />
<ul>
<li>
<p>每个待发送的帧被赋予一个序列号Seq，取值范围为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim2^{n}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>(n位字段)</p>
</li>
<li>
<p>建立缓冲区：</p>
<p>发送窗口：缓存已发送、待确认的帧</p>
<ul>
<li>顺序接收来自网络层的分组，成帧，赋予序列号</li>
<li>最多保存w个已发送、待确认的帧</li>
<li>窗口达到最大值W时强制关闭网络层</li>
</ul>
<p>接收窗口：缓存期待接收帧（序号）</p>
<ul>
<li>对进入窗口的帧顺序提交网络层，进行确认</li>
<li>落在窗口外的帧被丢弃</li>
</ul>
</li>
</ul>
<h3 id="342-三种窗口滑动协议">3.4.2 三种窗口滑动协议</h3>
<ol>
<li>
<p>一位滑动窗口协议(停止等待协议)</p>
<ul>
<li>发送窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)=1</li>
<li>接收窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)=1</li>
</ul>
<p>信道利用率：$ U=\frac{T_f}{T_f+R}<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">，</mi></mrow><annotation encoding="application/x-tex">，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord cjk_fallback">，</span></span></span></span>T_f<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">为</mi><mi mathvariant="normal">帧</mi><mi mathvariant="normal">传</mi><mi mathvariant="normal">输</mi><mi mathvariant="normal">时</mi><mi mathvariant="normal">间</mi><mi mathvariant="normal">，</mi></mrow><annotation encoding="application/x-tex">为帧传输时间，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">帧</span><span class="mord cjk_fallback">传</span><span class="mord cjk_fallback">输</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">间</span><span class="mord cjk_fallback">，</span></span></span></span>T_f=\frac{L}{B}$, L为帧长度, B为数据传输速率，R为RTT(来回时间)</p>
<p>提高信道利用率的方法：增加滑动窗口的长度W，即：$ U=\frac{W*T_f}{T_f+R}$</p>
<img src="/Users/zhaoyuan/Library/Application Support/typora-user-images/image-20211108160316913.png" alt="image-20211108160316913" style="zoom:50%;" />
</li>
<li>
<p>连续ARQ协议(又称Go-Back-N)</p>
<ul>
<li>发送窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)&gt;1：缓存在发送窗口中的出错帧及后续帧全部重发</li>
<li>接收窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)=1：对出错帧不确认，丢弃错帧和后续帧</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw7tpfb08qj30xs0gytdq.jpg" alt="image.png" style="zoom:50%;" />
<img src="/Users/zhaoyuan/Library/Application Support/typora-user-images/image-20211108170022116.png" alt="image-20211108170022116" style="zoom:50%;" />
</li>
<li>
<p>选择重传ARQ协议(SR)</p>
<ul>
<li>发送窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)&gt;1：缓存在发送窗口中的出错帧及后续帧全部重发</li>
<li>接收窗口(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">W_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)&gt;1：对出错帧不确认，丢弃错帧和后续帧</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mi mathvariant="normal">；</mi><msub><mi>W</mi><mi>T</mi></msub><mo>+</mo><msub><mi>W</mi><mi>R</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo separator="true">,</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msub><mi>W</mi><mi>R</mi></msub><mi mathvariant="normal">。</mi><msub><mi>W</mi><mi>T</mi></msub><mi mathvariant="normal">最</mi><mi mathvariant="normal">大</mi><mi mathvariant="normal">时</mi><mi mathvariant="normal">有</mi><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><msub><mi>W</mi><mi>R</mi></msub><mo>=</mo><mo>(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">W_T≤ 2^{n-1}, W_R≤ 2^{n-1}； W_T+W_R ≤ 2^n , W_T ≤ W_R 。W_T 最大时有W_T =W_R =(2^n)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.964108em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">；</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">。</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">最</span><span class="mord cjk_fallback">大</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">有</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span> (见习题)</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw7u2qnv8bj30v20b80xv.jpg" alt="image.png" style="zoom:50%;" />
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gw7udao80nj30xe0f4n1y.jpg" alt="image.png" style="zoom:50%;" />
<p>否定确认NAK: 对出错帧回送否定确认，使发放不必等到超时重传，加快出错帧的重传</p>
</li>
</ol>
<h3 id="343-arq协议的作用">3.4.3 ARQ协议的作用</h3>
<p>(Automatic Repeat-reQuest)：</p>
<ul>
<li>在不可靠的链路上实现可靠交付，所有重传对上面透明</li>
<li>支持流量控制: 当收方来不及接收可以暂时不发送确认帧</li>
</ul>
<p>差错控制策略比较：</p>
<ul>
<li>Go-back-n：
<ul>
<li>发送方需要较大缓冲区，便于重传</li>
<li>重传帧较多，因此适合信道出错率较小的情况</li>
</ul>
</li>
<li>选择重传
<ul>
<li>接收方需要较大缓冲区，以便将按正确顺序将帧提交到网络层</li>
<li>重传帧较少，使用于信道质量不好的情况</li>
</ul>
</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gwa5bkbeodj310u0n2gwj.jpg" alt="image.png" style="zoom:50%;" />
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2. 8086微型计算机系统]]></title>
        <id>https://notes.yuyzzz.top/post/2-8086-wei-xing-ji-suan-ji-xi-tong/</id>
        <link href="https://notes.yuyzzz.top/post/2-8086-wei-xing-ji-suan-ji-xi-tong/">
        </link>
        <updated>2021-10-31T08:01:17.000Z</updated>
        <summary type="html"><![CDATA[<p>介绍了微型计算机的概念、8086的结构、寻址方式、引脚功能、硬件组成等</p>
]]></summary>
        <content type="html"><![CDATA[<p>介绍了微型计算机的概念、8086的结构、寻址方式、引脚功能、硬件组成等</p>
<!--more-->
<h2 id="21-概述">2.1 概述</h2>
<ol>
<li>微型计算机（简称微机）：将计算机的核心器件中央处理器（运算器和控制器）集成在一块半导体芯片上，配以存储器、I/O接口电路及系统总线等设备的计算机</li>
<li>微型计算机系统：以微型计算机系统为主体，配以系统软件和外设后成为微型计算机系统</li>
</ol>
<h3 id="211-微型计算机系统的硬件组成">2.1.1 微型计算机系统的硬件组成</h3>
<ol>
<li>
<p><strong>冯·诺伊曼</strong>计算机的特点：硬件由<strong>运算器、控制器、存储器、输入设备和输出设备</strong>五大基本部件组成</p>
<ul>
<li>运算器（ALU）：运算器的核心是算术逻辑单元，是完成各种<strong>算术和逻辑</strong>运算的部件。</li>
<li>控制器（CU）：发出各种控制信息。</li>
<li>存储器（M）：记忆程序和数据的部件。</li>
<li>输入设备（IN）：将程序和数据输入的部件。</li>
<li>输出设备（OUT）：将结果数据和其它信息输出的部件。</li>
</ul>
</li>
<li>
<p>五大部件之间的信息流动：</p>
<ul>
<li><strong>数据信息</strong>：用双线表示，包括原始数据、中间结果、计算结果和程序指令</li>
<li><strong>控制信息</strong>：用单线表示，它是由控制器发出，指挥和协调其它各部件动作的信号</li>
</ul>
</li>
<li>
<p>现代微计算机系统硬件组成：</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzqqh2gkj30t00eogpg.jpg" alt="image-20211011161129147.png" style="zoom:67%;" />
<ul>
<li>微处理器：包括运算器和控制器</li>
<li>协处理器：用于特定任务的处理，以减轻微处理器的负担</li>
<li>总线控制逻辑：总线是连接计算机各部分的数据通路，分为：<strong>片内总线，片级总线，系统总线</strong>，系统总线包含的信号线必须满足下列各种输入/输出操作的需要：
<ul>
<li>访问分布于主板之外的存储器；</li>
<li>访问I/O接口；</li>
<li>适应外部中断方式；</li>
<li>适应存储器直接与外部设备交换信息。</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="212-微型计算机系统的工作原理">2.1.2 微型计算机系统的工作原理</h3>
<ol>
<li><strong>指令、指令系统和程序</strong>
<ul>
<li>指令：二进制代码，由**操作码(操作类型)和操作数(操作对象或其地址)**组成</li>
<li>指令系统：一台计算机所能识别和执行的全部指令的集合，是表征计算机性能的重要因素</li>
<li>程序：一个指令序列</li>
</ul>
</li>
<li><strong>机器语言、汇编语言和高级语言</strong>
<ul>
<li>机器语言：由二进制代码组成，计算机能够直接识别，故机器语言程序被称为目标程序</li>
<li>汇编语言：由字母和符号表示的二进制代码，能够直接访问与硬件相关的存储器或I/O端口，汇编语言必须翻译成机器语言程序才能执行，这个翻译过程称为“汇编”，这种<strong>把汇编源程序翻译成目标程序的语言加工程序称为汇编程序。</strong></li>
<li>高级语言</li>
</ul>
</li>
<li>微机系统的工作原理：存储程序和程序控制</li>
</ol>
<h3 id="213-微型计算机系统的启动过程">2.1.3 微型计算机系统的启动过程</h3>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzr3fnyxj317q0nme2j.jpg" alt="image-20211011170200071.png" style="zoom:47%;" />
<h2 id="22-8086微处理器的结构">2.2 8086微处理器的结构</h2>
<p>8086是Intel系列的16位微处理器，有16根数据线和20根地址线</p>
<h3 id="221-8086的内部结构">2.2.1 8086的内部结构</h3>
<p>按照功能分成<strong>总线接口部件BIU(Bus Interface Unit)和指令执行部件EU(Excution Unit)</strong></p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzn7hr5xj30x00qeguz.jpg" alt="image-20211011232337646.png" style="zoom:67%;" />
<ol>
<li>BIU
<ul>
<li>组成：
<ul>
<li>4个16位的<strong>段地址寄存器</strong>CS、DS、ES、SS</li>
<li>1个16位的<strong>指令指针寄存器</strong>IP：保存下一条要取出的指令所在存储单元的<strong>16位偏移地址</strong></li>
<li>一个20位的<strong>地址加法器</strong>：将20位地址寻址的1MB的物理空间划分成由16位地址寻址的不超过64KB的逻辑空间，逻辑空间就是逻辑段，简称段；存储物理地址，可根据<strong>16位段地址和16位段内偏移地址</strong>计算得到</li>
<li>一个可以预存4字节/6字节（8088/8086）指令的<strong>指令队列缓冲器</strong>：FIFO，暂存BIU从存储器预取的指令</li>
<li>总线控制逻辑：发出总线控制信号</li>
</ul>
</li>
<li>作用：根据指令的要求合成20位的地址信号，产生与外部总线数据传输需要的控制信号时序，实现与外部的数据交换</li>
</ul>
</li>
<li>EU
<ul>
<li>组成：
<ul>
<li>通用寄存器组</li>
<li>专用寄存器组</li>
<li>算术逻辑单元ALU</li>
<li>16位的标志寄存器</li>
<li>EU控制系统</li>
</ul>
</li>
<li>作用：执行指令</li>
</ul>
</li>
<li>指令流水线结构：在执行一条指令的同时又读取下一条指令的机制</li>
</ol>
<h3 id="222-8086微处理器寻址内存地址的方法">2.2.2 8086微处理器寻址内存地址的方法</h3>
<p><strong>将段地址寄存器的内容左移四位, 然后再与段内偏移地址值相加；</strong></p>
<p>可作为<strong>段地址寄存器的有：CS、DS、ES、SS；</strong></p>
<p>段内偏移地址值则可通过寻址方式得到。</p>
<h3 id="223-8086微处理器的内部寄存器">2.2.3 8086微处理器的内部寄存器</h3>
<ol>
<li><strong>通用寄存器</strong>：<strong>AX, BX, CX, DX</strong></li>
</ol>
<ul>
<li>
<p>共性：可按16位一次读写，也可按高8位低8位读写，可以存放数据、地址</p>
</li>
<li>
<p>个性：</p>
<ul>
<li>
<p>AX(AH+AL): 累加器(Accumulator)</p>
</li>
<li>
<p>BX(BH+BL): 基地址寄存器(Base), 在<strong>间接寻址中作为偏移地址寄存器</strong>；在<strong>基址寻址中作为基地址寄存器</strong></p>
</li>
<li>
<p>CX(CH+CL): 计数寄存器(Count)</p>
</li>
<li>
<p>DX(DH+DL): 数据寄存器(Data), 在乘除法指令中固定充当辅助的操作数寄存器；</p>
<p>​												  在输入/输出指令中固定作为外设口地址寄存器。</p>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li>
<p><strong>专用寄存器</strong>：<strong>SP, BP, SI, DI</strong>, <strong>只能以16位为单位进行操作</strong></p>
<ul>
<li>SP: 栈顶指针(stack pointer), 寻址堆栈区栈顶的当前偏移地址。当执行完入栈/出栈指令后，SP的值会自动减2/加2。</li>
<li>BP: 基数指针(base pointer), 提供多种寻址方式的偏移地址或基地址，还用于配合SS提供堆栈区的非栈顶单元偏移地址。</li>
<li>SI: 源地址寄存器(Source Index)</li>
<li>DI: 目的地址寄存器(Destination Index)</li>
</ul>
</li>
<li>
<p><strong>指令指针 IP</strong>(Instruction Pointer): 固定配合CS来指定内存中将要执行的指令，用于提供相对于CS值的偏移地址。一条指令执行完后，IP的值会自动增加，以指向位于存储器中的下一条指令</p>
</li>
<li>
<p><strong>段寄存器</strong>: <strong>CS, SS, DS, ES</strong></p>
<ul>
<li>CS：代码段寄存器（Code Segment）,固定与IP一起寻址内存代码区。</li>
<li>SS：堆栈段寄存器(Stack Segment)，固定与SP或BP寻址内存的堆栈区。</li>
<li>DS：数据段寄存器(Data Segment)，可与SI、DI、BP等寻址内存数据区。</li>
<li>ES：附加段寄存器(Extra data Segment)，可与SI、DI、BP等寻址内存数据区</li>
</ul>
</li>
<li>
<p><strong>标志寄存器</strong>(Flag Register)</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvu6z4ku6jj30y009ojsy.jpg" alt="image.png" style="zoom:67%;" />
<p>(1) 运算/操作结果标志位</p>
<ul>
<li>CF：进位标志(Carry Flag),运算结果产生进/借位时CF=1，反之CF=0</li>
<li>PF：齐偶标志(Parity Flag),运算结果中低8位有偶数个1时PF=1，奇数个1时PF=0。</li>
<li>AF：辅助进位标志(Auxiliary Flag)：两个字节运算若结果中低半个字节有进/借位时(第3位向第四位发生了进位)AF=1。</li>
<li>ZF：零标志(Zero Flag),运算结果为0时ZF=1，反之=0。</li>
<li>SF：符号标志(Sign Flag),运算结果最高位为0时SF=0，反之=1。</li>
<li>OF：溢出标志(Overflow Flag),运算结果产生溢出时OF=1，反之=0。</li>
</ul>
<p>(2) 控制标志位(用户设置)</p>
<ul>
<li>DF：地址方向标志(Direction Flag)，用于数据块传送。DF=0，内存地址朝增加方向变化； DF=1，内存地址朝减小方向变化。</li>
<li>IF：中断允许标志(Iterrupt Flag)：用于响应中断，IF=0，只响应不可屏蔽中断；IF=1，那么会响应所有类型的中断。</li>
<li>TF：自陷标志(Trap Flag)：用于程序的单步调试。TF=1，每执行一条指令就中断一下，以便运行检测程序；TF=0连续执行。</li>
</ul>
</li>
</ol>
<h2 id="23-80868088引脚功能">2.3 8086/8088引脚功能</h2>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>D</mi><mn>0</mn></msub><mo>∼</mo><mi>A</mi><msub><mi>D</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">AD_{0} \sim AD_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>低16位的地址/数据复用引脚线，双向，三态，采用分时复用来实现对数据线和地址线的复用</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvuu4q0fxpj30ro0lmwiz.jpg" alt="image.png" style="zoom:50%;" />
<ul>
<li>最小工作模式：CPU控制总线</li>
<li>最大工作模式：总线控制器控制总线</li>
</ul>
<p>将<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>MN</mtext><mi mathvariant="normal">/</mi><mover accent="true"><mtext>MX</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\text{MN}/\overline{\text{MX}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">MN</span></span><span class="mord">/</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">MX</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>引脚接高电平(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>MN/MX=1</mtext></mrow><annotation encoding="application/x-tex">\text{MN/MX=1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">MN/MX=1</span></span></span></span></span>)，CPU将工作于最小模式，反之它们将工作于最大模式。当CPU处于不同的工作模式时，部分控制引脚的作用将有所不同，而且构成的系统结构和规模也有所不同</p>
<h3 id="231-80868088最小工作模式下引脚功能">2.3.1 8086/8088最小工作模式下引脚功能</h3>
<ol>
<li>地址总线(Address Bus) ：A0~A19 (其中A0～A15与D0~D15复用, A16～A19与S3~S6复用)</li>
<li>数据总线：D0 ~ D15（8086与A0 ~ A15共用）</li>
<li>控制总线：
<ul>
<li>外部中断线：
<ul>
<li>INTR(Interrupt Request): 外部可屏蔽中断输入信号,由外部中断控制器提供</li>
<li>NMI(Nonmaskable Interrupt): 外部非屏蔽中断输入信号，由外部非屏蔽中断源提供</li>
<li>INTA(Interrput Acknowledge): CPU中断响应应答信号(输出)，回送给外部中断控制器</li>
</ul>
</li>
<li>数据传送控制信号线：
<ul>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>ALE</mtext><mo separator="true">,</mo><mover accent="true"><mtext>DEN</mtext><mo stretchy="true">‾</mo></mover><mo separator="true">,</mo><mtext>DT</mtext><mi mathvariant="normal">/</mi><mover accent="true"><mtext>R</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\text{ALE}, \overline{\text{DEN}}, \text{DT}/\overline{\text{R}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">ALE</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">DEN</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord text"><span class="mord">DT</span></span><span class="mord">/</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">R</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>: 地址锁存器和数据收发器控制信号</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mtext>RD</mtext><mo stretchy="true">‾</mo></mover><mi mathvariant="normal">；</mi><mover accent="true"><mtext>WR</mtext><mo stretchy="true">‾</mo></mover><mi mathvariant="normal">；</mi><mtext>M</mtext><mi mathvariant="normal">/</mi><mover accent="true"><mtext>IO</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{\text{RD}}；\overline{\text{WR}}；\text{M}/\overline{\text{IO}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">RD</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord cjk_fallback">；</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">WR</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mord cjk_fallback">；</span><span class="mord text"><span class="mord">M</span></span><span class="mord">/</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">IO</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>：读/写控制信号及读写对象(存储器/外设)选择信号</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mtext>RD</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{\text{RD}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">RD</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>：16位数据线结构下奇地址（高字节）存储单元选择信号，用于选通高8位数据（输出，8088无效）</li>
<li>READY：CPU等待存储器或外设就绪信号（输入）</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mtext>TEST</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{\text{TEST}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">TEST</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>：清除WAIT指令产生的暂停态，使程序继续顺序执行（输入）</li>
</ul>
</li>
<li>总线请求/应答总线
<ul>
<li>HOLD：总线请求（输入）</li>
<li>HLDA：总线请求应答（输出）</li>
</ul>
</li>
</ul>
</li>
<li>状态信号线：S3；S4；S5；S6与A16~A19共用，在地址信号锁存后有效
<ul>
<li>S6：反映CPU目前是否占用总线。“0”= 占用；“1”= 没占用</li>
<li>S5：反映中断允许标志位IF的状态。S5 = IF</li>
<li>S4、S3：反映目前正在使用的段寄存器。00=ES；01=SS；10=CS；11=DS</li>
</ul>
</li>
<li>复位（RESET）线上维持四个时钟周期以上的高电平后，CPU内部的寄存器将处于复位态：DS=ES=SS=IP=FR=0；CS=FFFFH，指令队列空复位与开机时的状态相同,CPU首条指令的地址是FFFF0H</li>
</ol>
<h3 id="232-80868088最大工作模式下引脚功能">2.3.2 8086/8088最大工作模式下引脚功能</h3>
<ol>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Q</mi><msub><mi mathvariant="normal">S</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">Q</mi><msub><mi mathvariant="normal">S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\mathrm{QS_1, QS_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathrm">Q</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathrm">Q</span><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>: 指令状态信号(Queue Status), 反映指令队列的状态</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvutz8phxsj30y60ayagl.jpg" alt="image.png" style="zoom:60%;" />
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><msub><mi mathvariant="normal">S</mi><mn>2</mn></msub><mo stretchy="true">‾</mo></mover><mo separator="true">,</mo><mover accent="true"><msub><mi mathvariant="normal">S</mi><mn>1</mn></msub><mo stretchy="true">‾</mo></mover><mo separator="true">,</mo><mover accent="true"><msub><mi mathvariant="normal">S</mi><mn>0</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\mathrm{\overline{S_2}, \overline{S_1},\overline{S_0}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: 用于产生不同控制信号</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvuu2k5d3tj30mc0io46c.jpg" alt="image.png" style="zoom:67%;" />
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mtext>LOCK</mtext><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{\text{LOCK}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">LOCK</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>: 总线封锁信号，低电平有效。有效时：禁止其他总线主设备在以下两种情况下占用系统总线</p>
<ul>
<li>CPU执行带LOCK前缀的指令</li>
<li>中断响应未结束时</li>
</ul>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">Q</mi></mrow><mo stretchy="true">‾</mo></mover><mi mathvariant="normal">/</mi><mover accent="true"><mrow><mi mathvariant="normal">G</mi><msub><mi mathvariant="normal">T</mi><mn>0</mn></msub></mrow><mo stretchy="true">‾</mo></mover><mo separator="true">,</mo><mover accent="true"><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">Q</mi></mrow><mo stretchy="true">‾</mo></mover><mi mathvariant="normal">/</mi><mover accent="true"><mrow><mi mathvariant="normal">G</mi><msub><mi mathvariant="normal">T</mi><mn>1</mn></msub></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\mathrm{\overline{{RQ}}/\overline{GT_0}, \overline{{RQ}}/\overline{GT_1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">R</span><span class="mord mathrm">Q</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mord mathrm">/</span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">G</span><span class="mord"><span class="mord mathrm">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">R</span><span class="mord mathrm">Q</span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="mord mathrm">/</span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">G</span><span class="mord"><span class="mord mathrm">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: 总线请求/允许信号, 提供两个主控部件共享局部总线的请求/允许联络信号，请求和允许信号共用同一根引脚线。其中RQ/GT0 的优先权高于RQ/GT1。</p>
</li>
</ol>
<h2 id="24-8086微型计算机系统硬件组成">2.4 8086微型计算机系统硬件组成</h2>
<p>时钟发生器8284, 地址锁存器8282, 数据收发器8286</p>
<h3 id="241-最小模式系统硬件组成">2.4.1 最小模式系统硬件组成</h3>
<figure data-type="image" tabindex="1"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvuukv4imnj30jn0acgmw.jpg" alt="image.png" loading="lazy"></figure>
<p>地址线与数据线复用的实现</p>
<ol>
<li>CPU先将20位地址信号送上地址线A0 ~ A19</li>
<li>产生地址锁存信号ALE将20位地址信号锁存在外部提供的地址锁存器中。</li>
<li>在CPU内部将部分地址线引脚切换到内部数据线（8086将A0 ~ A15切换为D0 ~ D15；8088则将A0 ~ A7切换为D0 ~ D7），还有部分切换为状态输出线（A16 ~ A19成为S3~S6）</li>
<li>在入/出控制信号<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">D</mi><mi mathvariant="normal">T</mi><mi mathvariant="normal">/</mi><mover accent="true"><mi mathvariant="normal">R</mi><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\mathrm {DT/\overline{R}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.13333em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">D</span><span class="mord mathrm">T</span><span class="mord mathrm">/</span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">R</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></span>,数据选通信号<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mrow><mi mathvariant="normal">D</mi><mi mathvariant="normal">E</mi><mi mathvariant="normal">N</mi></mrow><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">\mathrm{\overline{DEN}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord"><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">D</span><span class="mord mathrm">E</span><span class="mord mathrm">N</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></span>作用下，选通外部数据线上的收发器使外部数据进入</li>
</ol>
<h3 id="242-最大模式系统硬件组成">2.4.2 最大模式系统硬件组成</h3>
<figure data-type="image" tabindex="2"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvuux1iil2j30k00a7jsv.jpg" alt="image.png" loading="lazy"></figure>
<h3 id="243-8086的存储器结构">2.4.3 8086的存储器结构</h3>
<ol>
<li>
<p>8086存储器：</p>
<ul>
<li>存储单元：<strong>按字节编址</strong>，低字节在前，高字节在后</li>
<li>数据可以是字节，字(两个字节)，双字(四个字节)</li>
<li>存储容量为1MB，物理地址范围：00000H~FFFFFH</li>
</ul>
<p>如图：（20110H）=3412H表示字单元20110H的内容是3412H；（20110H）=78563412H表示双字单元20110H的内容是78563412H。</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvv8b5va0kj30es0rat9y.jpg" alt="image.png" style="zoom: 50%;" />
</li>
<li>
<p>存储器的分段管理</p>
<ul>
<li>将整个存储器分为多个逻辑段</li>
<li>每个逻辑段容量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo><mn>64</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">\leq64KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></li>
<li>各个逻辑段可以紧密连接，也可以重叠</li>
<li>寻址操作采用段地址加段内偏移地址的二级寻址方式，对任意一个地址，可以唯一地被包含在一个逻辑段中，也可以包含在多个相互重叠的逻辑段中</li>
</ul>
<figure data-type="image" tabindex="3"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvyhdfp7knj309y09lwex.jpg" alt="image.png" loading="lazy"></figure>
</li>
<li>
<p>存储器的地址</p>
<ul>
<li>段地址
<ul>
<li>将16个字节的存储空间称为一节</li>
<li>分段时要求各个逻辑段从节的整数边界开始，这样段首地址低4位应该是“0000”，因此就把段首地址的高16位称为“段基址（段地址）”</li>
<li>段地址是无符号的16位二进制数，存放在段寄存器DS、CS、SS或ES中，这些段分别称为数据段、代码段、堆栈段和附加段。</li>
</ul>
</li>
<li>偏移地址
<ul>
<li>某一存储单元相对于段首地址的偏移量称为偏移地址（也称有效地址EA）</li>
<li>偏移地址也是无符号的16位二进制数，存放在IP、SP、BX、SI、DI、BP中或直接出现在指令中。</li>
</ul>
</li>
<li>逻辑地址：在分段存储器中，通过段地址和偏移地址来表示的存储单元的地址称为逻辑地址，记为：<code>段地址:偏移地址</code></li>
<li>物理地址：存储器的绝对地址，20位，8086存储器物理地址范围为00000H~FFFFFH</li>
</ul>
</li>
</ol>
<h3 id="244-寻址外设端口的方法">2.4.4 寻址外设端口的方法</h3>
<p>8086的I/O采用独立编址（I/O端口和存储单元分开编址），地址线<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>D</mi><mn>0</mn></msub><mo>∼</mo><mi>A</mi><msub><mi>D</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">AD_{0} \sim AD_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>作为端口地址，访问I/O端口时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><msub><mi>D</mi><mn>19</mn></msub><mo>∼</mo><mi>A</mi><msub><mi>D</mi><mn>16</mn></msub></mrow><annotation encoding="application/x-tex">AD_{19} \sim AD_{16}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>为0000</p>
<h2 id="25-8086微型计算机系统总线时序">2.5 8086微型计算机系统总线时序</h2>
<ul>
<li><strong>指令周期</strong>：CPU执行一条指令所需要的时间，由一个或多个总线周期组成</li>
<li><strong>总线周期</strong>：CPU每完成一次总线操作（与外部更换一次数据；一次读或一次写）称为一个“总线周期”</li>
<li><strong>时钟周期</strong>：CPU主时钟周期，是8086/8088CPU内部的最小计时单位</li>
</ul>
<h3 id="251-最小模式下周期时序">2.5.1 最小模式下周期时序</h3>
<ol>
<li>
<p>读周期时序：</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvyj9a81igj311u0tik02.jpg" alt="image.png" style="zoom: 50%;" />
</li>
<li>
<p>写周期时序</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvyjubky6rj30x00syn4n.jpg" alt="image.png" style="zoom:50%;" /></li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[1. 数和数制]]></title>
        <id>https://notes.yuyzzz.top/post/1-shu-he-shu-zhi/</id>
        <link href="https://notes.yuyzzz.top/post/1-shu-he-shu-zhi/">
        </link>
        <updated>2021-10-31T07:59:15.000Z</updated>
        <summary type="html"><![CDATA[<p>基本码值的转换</p>
]]></summary>
        <content type="html"><![CDATA[<p>基本码值的转换</p>
<!--more-->
<h2 id="11-带符号二进制数转换">1.1 带符号二进制数转换</h2>
<ol>
<li>
<p>原码：</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzozlchbj30wi08kmxt.jpg" alt="image-20211011182445892.png" style="zoom:67%;" />
<p>表示整数范围：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mo>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo>)</mo><mtext> </mtext><mo>+</mo><mo>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">-(2^{n-1}-1)~+(2^{n-1}-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace nobreak"> </span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>反码：</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzpdbuluj30w805w3z6.jpg" alt="image-20211011184552708.png" style="zoom:67%;" />
<p>表示整数范围：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><mo>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo>)</mo><mtext> </mtext><mo>+</mo><mo>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">-(2^{n-1}-1)~+(2^{n-1}-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace nobreak"> </span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>补码：</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzpo9f3yj30xy084gm7.jpg" alt="image-20211011184726932.png" style="zoom:67%;" />
<p>表示整数范围：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mtext> </mtext><mo>+</mo><mo>(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">-2^{n-1}~+(2^{n-1}-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace nobreak"> </span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
</li>
</ol>
<h2 id="12-十进制数的编码">1.2 十进制数的编码</h2>
<p>关于8421BCD码</p>
<ul>
<li>压缩8421BCD码：一个字节可以表示两位十进制数</li>
<li>非压缩8421BCD码：一个字节只能表示一位十进制数</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtzpz5o6gj31a00tgayp.jpg" alt="image-20211011230609176.png" style="zoom:50%;" />
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[一、云计算概述]]></title>
        <id>https://notes.yuyzzz.top/post/yi-yun-ji-suan-gai-shu/</id>
        <link href="https://notes.yuyzzz.top/post/yi-yun-ji-suan-gai-shu/">
        </link>
        <updated>2021-10-27T08:54:22.000Z</updated>
        <summary type="html"><![CDATA[<p>介绍了云计算的定义、<strong>体系架构</strong>、服务类型、云计算优势和相关技术</p>
]]></summary>
        <content type="html"><![CDATA[<p>介绍了云计算的定义、<strong>体系架构</strong>、服务类型、云计算优势和相关技术</p>
<!--more -->
<h2 id="11-什么是云计算">1.1 什么是云计算</h2>
<p>大数据与云计算之间的关系：<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo separator="true">,</mo><mi>G</mi><mi mathvariant="normal">为</mi><mi mathvariant="normal">目</mi><mi mathvariant="normal">标</mi><mi mathvariant="normal">，</mi><mi>f</mi><mi mathvariant="normal">为</mi><mi mathvariant="normal">云</mi><mi mathvariant="normal">计</mi><mi mathvariant="normal">算</mi><mi mathvariant="normal">，</mi><mi>x</mi><mi mathvariant="normal">为</mi><mi mathvariant="normal">大</mi><mi mathvariant="normal">数</mi><mi mathvariant="normal">据</mi></mrow><annotation encoding="application/x-tex">G=f(x), G为目标，f为云计算，x为大数据</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">G</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">目</span><span class="mord cjk_fallback">标</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">云</span><span class="mord cjk_fallback">计</span><span class="mord cjk_fallback">算</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault">x</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">大</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">据</span></span></span></span></p>
<h3 id="111-云计算定义">1.1.1 云计算定义</h3>
<ul>
<li>商业计算模型，将计算任务分布在大量计算机构成的资源上</li>
<li>是分布式计算（Distributed Computing）、并行计算（Parallel Computing）、效用计算（Utility Computing）、网络存储（Network Storage Technologies）、虚拟化（Virtualization）、负载均衡 （Load Balance）、热备份冗余（High Available）等传统计算机网络和技术发展的产物</li>
<li>按网络按需提供可动态伸缩的廉价计算服务</li>
</ul>
<h3 id="112-云计算的体系架构">1.1.2 云计算的体系架构</h3>
<figure data-type="image" tabindex="1"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvspmio8p0j317i0ikgvg.jpg" alt="image.png" loading="lazy"></figure>
<ul>
<li>SOA 构建层：封装云计算能力成标准的Web Services服务，并纳入到SOA体系</li>
<li>管理中间件层：云计算的资源管理，并对众多应用任务进行调度，使资源能够高效、安全地为应用提供服务</li>
<li>资源池层：将大量相同类型的资源构成同构或接近同构的资源池</li>
</ul>
<h3 id="113-云计算的服务类型">1.1.3 云计算的服务类型</h3>
<ul>
<li>软件即服务(SaaS):将某些特定应用软件功能封装成服务，向用户提供基于web的软件
<ul>
<li>可以使用先进的应用程序</li>
<li>只为自己使用的东西付费</li>
<li>免客户端软件使用</li>
<li>轻松增强员工移动性</li>
<li>从任何位置访问应用数据</li>
</ul>
</li>
<li>平台即服务(PaaS)：将服务器平台或者开发环境作为服务进行提供。开发简单、部署简单、维护简单
<ul>
<li>减少编码时间</li>
<li>无需增员便可提高开发能力</li>
<li>使用经济实惠的先进工具</li>
<li>支持地理位置分散的开发团队</li>
<li>有效管理应用程序生命周期</li>
</ul>
</li>
<li>基础设施即服务(IaaS, Infrastructure as a Service): 将多台服务器组成的“云端”服务作为计量服务提供给用户。
<ul>
<li>消除资金投入并降低后续费用</li>
<li>改进业务连续性和灾难恢复</li>
<li>快速创新</li>
<li>专注于核心业务</li>
<li>增强稳定性、可靠性和可支持性</li>
<li>更安全</li>
</ul>
</li>
</ul>
<p>容器即服务(CaaS): 以容器为资源分割和调度的基本单位，封装整个软件运行时环境</p>
<p>多租户：多个租户共享硬件资源，硬件资源提供一个共享的应用和数据库实例，租户间共享资源越多的架构，租户隔离难度越大，成 本越高。租户隔离难度越大， 应用开发难度，测试与维护成本都会上升。</p>
<h3 id="114-云部署模式">1.1.4 云部署模式</h3>
<ul>
<li>公有云：指为外部客户提供的云</li>
<li>私有云：企业内部使用的云</li>
<li>混合云：指供自己和客户共同使用的云，它所提供的服务既可以供别人使用，也可以供自己使用</li>
</ul>
<h2 id="12-云计算的优势">1.2 云计算的优势</h2>
<ul>
<li>
<p>提供弹性的服务，在超大资源池中动态分配和释放资源</p>
</li>
<li>
<p>云计算平台的规模极大，比较容易平稳整体负载</p>
</li>
<li>
<p>资源利用率达到80%左右，是传统模式5～7倍</p>
</li>
<li>
<p>降低了使用计算资源的成本</p>
</li>
</ul>
<h2 id="13-云计算的相关技术">1.3 云计算的相关技术</h2>
<ul>
<li>分布式计算：主要研究如何应用分布式系统(Distributed System)进行计算。分布式系统中的组件位于不同的计算机上，它们之间通过消息传递进行交流、协作，最终实现一个共同的目标</li>
<li>并行计算：在并行机上，将一个应用分解成多个子任务，分配给不同的处理器，各个处理器之间相互协同，并行地执行子任务。并行计算有多种形式</li>
<li>雾计算：数据、(数据)处理和应用 程序集中在网络边缘的设备中，而不是几乎全部保存在云中</li>
<li>边缘计算：靠近物或数据源头的一侧，采用网络、计算、存储、应用核心能力为一体的开放平台，就近提供最近端服务。其应用程序在边缘侧发起，产生更快的网络服务响应，满足行业在实时业务、应用智能、安全与隐私保护等方面的基本需求</li>
</ul>
<figure data-type="image" tabindex="2"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvss1exx7dj31ai0ky1cr.jpg" alt="image.png" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[二、物理层]]></title>
        <id>https://notes.yuyzzz.top/post/er-wu-li-ceng/</id>
        <link href="https://notes.yuyzzz.top/post/er-wu-li-ceng/">
        </link>
        <updated>2021-10-27T08:53:00.000Z</updated>
        <summary type="html"><![CDATA[<p>物理层（Physical Layer）是计算机网络OSI模型中最低的一层，位于OSI参考模型的最底层，它直接面向实际承担数据传输的物理媒体（即通信通道）</p>
]]></summary>
        <content type="html"><![CDATA[<p>物理层（Physical Layer）是计算机网络OSI模型中最低的一层，位于OSI参考模型的最底层，它直接面向实际承担数据传输的物理媒体（即通信通道）</p>
<!-- more-->
<h2 id="21-物理层的基本概念">2.1 物理层的基本概念</h2>
<p>传输媒体接口的有关特性</p>
<ul>
<li>机械特性</li>
<li>电气特性：电压范围，编码等</li>
<li>功能特性：指明某一电平的电压表示的意义</li>
<li>过程特性：指不同功能的各种可能事件出现的顺序</li>
</ul>
<h2 id="22-数据通信的基础">2.2 数据通信的基础</h2>
<h3 id="221-基本概念">2.2.1 基本概念</h3>
<ol>
<li>
<p>信号分类</p>
<ul>
<li>基带(baseband)信号：将信号0或1用不同信号表示(低频信号，未调制)</li>
<li>宽带信号：将基带信号调制后形成的多路复用模拟信号</li>
</ul>
</li>
<li>
<p>信道分类：</p>
<ul>
<li>单工：单向通信</li>
<li>半双工：双向交替通信</li>
<li>全双工：双向同时通信</li>
</ul>
</li>
<li>
<p>同步通信和异步通信：目的都是为了同步，保证数据传输不出差错</p>
<p>异步通信：</p>
<ul>
<li>字符为单位：
<ul>
<li>发送的字符之间的<strong>时间间隔可以是任意的</strong></li>
<li>可以在<strong>任意时刻发送</strong>，故必须在每个字符的开头和结束的地方加上标志(起始位和停止位)</li>
</ul>
</li>
<li>帧为单位：
<ul>
<li><strong>帧定界</strong>：帧首部一些特殊的比特组合，用于识别帧的开始，还包含帧的结束位置(帧尾添加特殊比特组合或帧首设置帧的长度)</li>
</ul>
</li>
</ul>
<p>同步通信：双方建立同步，即双方的时钟频率要相同，收发双方不停接收和发送同步比特流</p>
</li>
</ol>
<h3 id="222-信道最大传输率">2.2.2 信道最大传输率</h3>
<ol>
<li>
<p>奈奎斯特采样定理：模拟信号经F频率采样称为离散信号，能够通过数字信道传送无失真恢复，则要求<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo>≥</mo><mn>2</mn><mi>f</mi></mrow><annotation encoding="application/x-tex">F \geq 2f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>, f是模拟信号的最高频率</p>
<p>奈氏公式(理想信道)：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mn>2</mn><mi>H</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>L</mi></mrow><annotation encoding="application/x-tex">C=2Hlog_{2}L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">L</span></span></span></span>(没有对信息传输速率bps给出限制)</p>
<ul>
<li>H: 低通信道的带宽(Hz)</li>
<li>L: 某给定时刻数字信号可能取的离散值个数</li>
<li>C: 信道最大数据传输率(b/s)</li>
</ul>
</li>
<li>
<p>Shannon公式：<strong>给出了信息传输速率的极限</strong></p>
<p>有噪声信道的最大数据传输率：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mi>H</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo>(</mo><mn>1</mn><mo>+</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">C=Hlog_{2}(1+S/N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>H: 带宽</li>
<li>S/N：信道噪声比，常用<strong>分贝</strong>为计量单位，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>分贝数</mtext><mo>=</mo><mn>10</mn><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">\text{分贝数}=10log_{2}S/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord text"><span class="mord cjk_fallback">分贝数</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span></li>
</ul>
<p>若想提高信息的传输速率：</p>
<ul>
<li>提高传输线路的带宽</li>
<li>提高信号的信噪比</li>
</ul>
</li>
<li>
<p>比特率C和波特率B：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mi>B</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>L</mi></mrow><annotation encoding="application/x-tex">C=Blog_{2}L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">L</span></span></span></span></p>
<ul>
<li>
<p>波特率B：每秒信号调制数(传输符号的个数)</p>
</li>
<li>
<p>比特率C：每秒传送的位数</p>
</li>
</ul>
</li>
</ol>
<h3 id="223-数据调制与编码">2.2.3 数据调制与编码</h3>
<ol>
<li>
<p>分类：传输的数据有模拟和数字之分</p>
</li>
<li>
<p>数字数据的数字信号编码</p>
<ul>
<li>要求：使用数字信号，包含比特同步信息</li>
<li>方法：双极性，单极性，归零RZ，不归零NRZ</li>
</ul>
<p><strong>归零编码RZ、不归零编码NRZ</strong>：逻辑1表示正电压下的信号，逻辑 0 表示负电压下的信号，在 NRZ 方法中，从逻辑0到逻辑1的转换（反之亦然），直接跨越零电压电平，而在 RZ 方法中，转换暂时停留在零电压电平上</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvpe6rex0dj60su082jte02.jpg" alt="image-20211023175243393.png" style="zoom:67%;" />
<p><strong>曼切斯特编码</strong>:一个周期为T，将其分为前后T/2，前低后高为0，前高后低为1，也可反过来定义</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvss5ysisuj30qo0b4ac9.jpg" alt="image.png" style="zoom:50%;" />
<p><strong>差分曼切斯特编码</strong>：每一位的中心处始终有跳变，位开始边界有跳变表示0，位开始边界没有跳变表示1</p>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvtywfgaf6j30zo0ekdna.jpg" alt="image.png" style="zoom:60%;" />
</li>
</ol>
<h2 id="23-传输介质">2.3 传输介质</h2>
<p>传输介质不属于物理层</p>
<h3 id="231-有线传输介质">2.3.1 有线传输介质</h3>
<ol>
<li>双绞线</li>
<li>同轴电缆</li>
<li>光纤</li>
</ol>
<h3 id="232-无线传输介质">2.3.2 无线传输介质</h3>
<ol>
<li>无线电微波</li>
<li>地面微波</li>
<li>卫星微波</li>
</ol>
<h2 id="24-模拟传输与数字传输">2.4 模拟传输与数字传输</h2>
<h3 id="241-数字调制技术">2.4.1 数字调制技术</h3>
<ul>
<li>调幅：载波的振幅随着基带数字信号而变化</li>
<li>调频：载波的频率随着基带数字信号而变化</li>
<li>调相：载波的初始相位随着基带数字信号而变化</li>
</ul>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvpepnere0j60xu0l8ag202.jpg" alt="image-20211023181052413.png" style="zoom: 50%;" />
<h3 id="242-传统com口调制解调器分类">2.4.2 传统COM口调制解调器分类</h3>
<ul>
<li>低速：小于600b/s</li>
<li>中速：600b/s~9600b/s</li>
<li>高速：大于9600b/s</li>
</ul>
<h3 id="243-数字传输系统">2.4.3 数字传输系统</h3>
<img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvpf5kmz4oj61380nc47502.jpg" alt="image-20211023182605550.png" style="zoom: 67%;" />]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[一、计网概述]]></title>
        <id>https://notes.yuyzzz.top/post/ji-wang-bi-ji-1/</id>
        <link href="https://notes.yuyzzz.top/post/ji-wang-bi-ji-1/">
        </link>
        <updated>2021-10-23T08:40:06.000Z</updated>
        <summary type="html"><![CDATA[<p>本章主要介绍计算机网络的定义和发展阶段，计算机网络的组成、<strong>分组交换、体系结构</strong>，以及<strong>计算机网络的性能指标</strong></p>
]]></summary>
        <content type="html"><![CDATA[<p>本章主要介绍计算机网络的定义和发展阶段，计算机网络的组成、<strong>分组交换、体系结构</strong>，以及<strong>计算机网络的性能指标</strong></p>
<!-- more-->
<h2 id="11-互联网概述">1.1 互联网概述</h2>
<h3 id="111-网络的网络">1.1.1 网络的网络</h3>
<p>互联网(Internet):全球最大的计算机网络，采用TCP/IP协议族</p>
<p>计算机网络(网络):由若干结点(node)和连接这些结点的链路(link)组成</p>
<p>互连网(internet)：泛指多个计算机网络互连而成的计算机网络，对网络间的协议没有要求。</p>
<h3 id="112-互联网基础结构发展的三个阶段">1.1.2 互联网基础结构发展的三个阶段</h3>
<ul>
<li>第一阶段：从单个网络ARPANET向互联网发展</li>
<li>第二阶段：建成了三级结构的互联网：主干网，地区网和校园网（或企业网）</li>
<li>第三阶段：形成了多层次ISP结构的互联网</li>
</ul>
<h3 id="113-互联网的标准化工作">1.1.3 互联网的标准化工作</h3>
<p>互联网标准以RFC的形式发表，成为标准需要三个阶段</p>
<ul>
<li>互联网草案：有效期6个月，此时不是RFC</li>
<li>建议标准：成为RFC文档</li>
<li>互联网标准：每个标准分配一个编号，一个标准可以对应多个RFC文档</li>
</ul>
<h2 id="12-互联网的组成">1.2 互联网的组成</h2>
<p>边缘：用户使用，资源共享（资源子网）</p>
<p>核心：由路由器组成，提供连通性和交换（通信子网）</p>
<h3 id="121-互联网的边缘部分">1.2.1 互联网的边缘部分</h3>
<p>主机又称为端系统（end system）</p>
<p>端系统之间的通信方式：</p>
<ul>
<li>客户/服务器（C/S）
<ul>
<li>客户主动向服务器发送请求</li>
<li>服务器被动等待请求</li>
</ul>
</li>
<li>对等方式（P2P）: Peer to Peer
<ul>
<li>平等、对等通信</li>
<li>每个主机既是客户机又是服务器</li>
</ul>
</li>
</ul>
<h3 id="121-互联网的核心部分">1.2.1 互联网的核心部分</h3>
<p>起特殊作用的是路由器（router），实现了分组交换</p>
<h4 id="电路交换circuit-switching">电路交换(circuit switching)</h4>
<ul>
<li>使用交换机</li>
<li>必定是<strong>面向连接</strong></li>
</ul>
<p>分为三个阶段：</p>
<ul>
<li>建立连接（专用物理线路）</li>
<li>通信（始终占用端到端资源）</li>
<li>释放连接</li>
</ul>
<p>缺点：</p>
<ul>
<li>建立连接时间长</li>
<li>信道利用率低</li>
</ul>
<h4 id="报文交换message-switching">报文交换(message switching)</h4>
<h4 id="分组交换packet-switching">分组交换(packet switching)</h4>
<p>存储转发，把报文分为较短、定长的数据段，在数据段前添加首部构成分组（packet），以分组作为数据传输单元</p>
<p>路由器：</p>
<ul>
<li>将收到分组放入缓存</li>
<li>查找转发表</li>
<li>将分组送到适当端口转发</li>
</ul>
<p>优点：</p>
<ul>
<li>动态分配资源</li>
<li>迅速、可靠</li>
</ul>
<p>带来的问题：</p>
<ul>
<li>存储转发需要排队，因此有时延</li>
<li>首部造成开销</li>
</ul>
<h2 id="13-计算机网络的类别">1.3 计算机网络的类别</h2>
<h3 id="131-计算机网络的定义">1.3.1 计算机网络的定义</h3>
<p>计算机网络主要是由一些通用的、可编程的硬件互连而成的，而这些硬件并非专门用来实现某一特定目的，这些可编程的硬件能够用来传送多种不同类型的数据，并能支持广泛的和日益增长的应用。</p>
<h3 id="132-计算机网络的分类">1.3.2 计算机网络的分类</h3>
<p>从网络的作用范围分类：</p>
<ul>
<li>广域网(LAN)</li>
<li>城域网(MAN)</li>
<li>局域网(LAN)</li>
<li>个人区域网(PAN)</li>
</ul>
<p>从网络的使用者进行分类：</p>
<ul>
<li>公用网</li>
<li>专用网</li>
</ul>
<p>用来把用户接入互联网的网络</p>
<ul>
<li>接入网AN(Access Network):用于将用户接入互联网，既不属于核心部分也不属于边缘部分</li>
</ul>
<h2 id="14-计算机网络的性能">1.4 计算机网络的性能</h2>
<h3 id="141-计算机网络的性能指标">1.4.1 计算机网络的性能指标</h3>
<ol>
<li>速率：也被称为<strong>数据率</strong>或比特率，单位：bit/s</li>
<li>带宽：在计算机网络中，表示某信道能通过的“<strong>最大数据率</strong>”，单位：bit/s</li>
<li>吞吐量：表示单位时间能通过某个网络（或者信道，接口）的数据量</li>
<li>时延(delay)：数据从网络的一端到另一端所需的时间，包括：发送试验，传播时延，处理时延，排队时延</li>
<li>时延带宽积：传播时延<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>带宽</li>
<li>往返时间RTT</li>
<li>利用率
<ul>
<li>信道利用率U，当增大时，该信道引起的时延迅速增加 ：$ D = \frac{D_0}{1-U}$，</li>
<li>网络利用率</li>
</ul>
</li>
</ol>
<h3 id="141-计算机网络的非性能特征">1.4.1 计算机网络的非性能特征</h3>
<p>费用，质量，标准化，可靠性，可扩展性和可升级性，易于管理和维护</p>
<h2 id="15-计算机网络的体系结构">1.5 计算机网络的体系结构</h2>
<p>计算机网络的各层及协议的集合就是网络的体系结构</p>
<h3 id="151-计算机体系机构的形成">1.5.1 计算机体系机构的形成</h3>
<p>OSI参考模型</p>
<h3 id="152-协议与划分层次">1.5.2 协议与划分层次</h3>
<p>协议：数据交换必须遵师事先约定的规则，这些规则明确了交换数据的格式和有关同步的问题</p>
<ul>
<li>语法：数据和控制信息的结构和格式</li>
<li>语义：控制信息的种类，作出响应与反应的类型</li>
<li>同步：事件实现顺序的说明</li>
</ul>
<p>协议的两种形式：</p>
<ul>
<li>文字描述</li>
<li>程序代码</li>
</ul>
<p>分层的好处：</p>
<ul>
<li>各层独立</li>
<li>灵活性好</li>
<li>结构上可分割开</li>
<li>易于实现和维护</li>
<li>促进标准化工作</li>
</ul>
<p>分层的缺点：</p>
<ul>
<li>降低效率</li>
<li>功能可能重复，产生额外开销</li>
</ul>
<p><strong>各层完成的主要功能</strong>：</p>
<p>①差错控制：使相应层次对等方的通信更加可靠。</p>
<p>②流量控制：发送端的发送速率必须使接收端来得及接收，不要太快。</p>
<p>③分段和重装：发送端将要发送的数据块划分为更小的单位，在接收端将其还原。</p>
<p>④复用和分用：发送端几个高层会话复用一条低层的连接，在接收端再进行分用。</p>
<p>⑤连接建立和释放：交换数据前先建立一条逻辑连接，数据传送结束后释放连接。</p>
<h3 id="153-具有五层协议的体系结构">1.5.3 具有五层协议的体系结构</h3>
<figure data-type="image" tabindex="1"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvpc1lcr4qj60xa0k6grt02.jpg" alt="image-20211004171033999.png" loading="lazy"></figure>
<h3 id="154-实体-协议-服务和服务访问点">1.5.4 实体、协议、服务和服务访问点</h3>
<p>实体(entity)：表示任何可发送或接收信息的硬件或软件进程。</p>
<p>协议：控制两个对等实体(或多个实体)进行通信的规则的集合。</p>
<p>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。要实现本层协议，还需要使用下面一层所提供的服务。</p>
<h3 id="155-tcpip的体系结构">1.5.5 TCP/IP的体系结构</h3>
<figure data-type="image" tabindex="2"><img src="https://tva1.sinaimg.cn/large/006pkgSjgy1gvpc0yln7jj60t20g678f02.jpg" alt="image-20211004173604031.png" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://notes.yuyzzz.top/post/hello-gridea/</id>
        <link href="https://notes.yuyzzz.top/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea 主页</a><br>
<a href="http://fehey.com/">示例网站</a></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span></span></span></span></p>
<h2 id="特性">特性👇</h2>
<p>📝  你可以使用最酷的 <strong>Markdown</strong> 语法，进行快速创作</p>
<p>🌉  你可以给文章配上精美的封面图和在文章任意位置插入图片</p>
<p>🏷️  你可以对文章进行标签分组</p>
<p>📋  你可以自定义菜单，甚至可以创建外部链接菜单</p>
<p>💻  你可以在 <strong>Windows</strong>，<strong>MacOS</strong> 或 <strong>Linux</strong> 设备上使用此客户端</p>
<p>🌎  你可以使用 <strong>𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌</strong> 或 <strong>Coding Pages</strong> 向世界展示，未来将支持更多平台</p>
<p>💬  你可以进行简单的配置，接入 <a href="https://github.com/gitalk/gitalk">Gitalk</a> 或 <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> 评论系统</p>
<p>🇬🇧  你可以使用<strong>中文简体</strong>或<strong>英语</strong></p>
<p>🌁  你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力</p>
<p>🖥  你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步</p>
<p>🌱 当然 <strong>Gridea</strong> 还很年轻，有很多不足，但请相信，它会不停向前 🏃</p>
<p>未来，它一定会成为你离不开的伙伴</p>
<p>尽情发挥你的才华吧！</p>
<p>😘 Enjoy~</p>
]]></content>
    </entry>
</feed>